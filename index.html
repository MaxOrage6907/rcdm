<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RC des Mines - Association de Mod√©lisme Tout-Terrain</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
    <header>
        <nav>
            <a href="#accueil" class="logo"></a>
            <ul class="nav-links">
                <li><a href="#accueil" onclick="showSection('accueil')">Accueil</a></li>
                <li><a href="#a-propos" onclick="showSection('a-propos')">√Ä Propos</a></li>
                <li><a href="#chronos" onclick="showSection('chronos')">Chronos</a></li>
                <li><a href="#infos" onclick="showSection('infos')">Infos Pratiques</a></li>
                <li><a href="#reglement" onclick="showSection('reglement')">R√®glement</a></li>
            </ul>
        </nav>
    </header>

        <!-- Accueil -->
    <div id="accueil" class="section active">
        <section id="hero">
            <!-- Slideshow Background -->
            <div class="hero-slideshow">
                <div class="hero-slide active" style="background-image: url('ch.jpg');">
                </div>
                <div class="hero-slide" style="background-image: url('voiture.jpg');">
                </div>
                <div class="hero-slide" style="background-image: url('cb.jpg');">
                </div>
                <div class="hero-slide">
                    <video autoplay muted loop>
                        <source src=".mp4" type="video/mp4">
                    </video>
                </div>
                <div class="hero-slide" style="background-image: url('cb.jpg');">
                </div>
            </div>
            
            <!-- Overlay -->
            <div class="hero-overlay"></div>
            
            <!-- Navigation du slideshow -->
            <button class="slideshow-nav prev" onclick="changeSlide(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slideshow-nav next" onclick="changeSlide(1)">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <!-- Contenu principal -->
            <div class="hero-content">
                <h1>RC des Mines</h1>
                <p>Circuit de mod√©lisme tout-terrain √† Saint Pierre-la-Palud</p>
                <a href="#a-propos" class="cta-button" onclick="showSection('a-propos')">
                    <i class="fas fa-car"></i> D√©couvrir le club
                </a>
            </div>
            
            <!-- Contr√¥les points -->
            <div class="slideshow-controls">
                <div class="slide-dot active" onclick="currentSlide(1)"></div>
                <div class="slide-dot" onclick="currentSlide(2)"></div>
                <div class="slide-dot" onclick="currentSlide(3)"></div>
                <div class="slide-dot" onclick="currentSlide(4)"></div>
                <div class="slide-dot" onclick="currentSlide(5)"></div>
            </div>
        </section>

        <section>

            <div class="cards-grid">
                <div class="card">
                    <i class="fas fa-users"></i>
                    <h3>Communaut√©</h3>
                    <p>Rejoignez une communaut√© convivial passionn√©e de pilotes RC de tous niveaux</p>
                </div>
                <div class="card">
                    <i class="fas fa-trophy"></i>
                    <h3>Comp√©titions</h3>
                    <p>Participez √† nos courses et chronom√©trages r√©guliers</p>
                </div>
                <div class="card">
                    <i class="fas fa-tools"></i>
                    <h3>Technique</h3>
                    <p>√âchangez conseils et astuces pour optimiser vos mod√®les</p>
                </div>
            </div>
        </section>
    </div>

    <!-- √Ä Propos -->
    <div id="a-propos" class="section">
        <section>
            <h2 class="section-title">√Ä Propos du RC des Mines</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Fond√©e en 2024, l'association RC des Mines rassemble les passionn√©s de mod√©lisme tout-terrain de la r√©gion. Notre club offre un environnement convivial pour tous les niveaux, du d√©butant au pilote exp√©riment√©.</p>
                    
                    <p>Notre circuit technique √† √©t√© retravaill√© d√©but 2025 pour am√©liorer l'exp√©rience de conduite. Nous organisons r√©guli√®rement des comp√©titions amicales et des sessions de chronom√©trage pour mesurer vos progr√®s.</p>
                    
                    <p>L'esprit d'entraide et de partage anime notre communaut√©. Nos membres exp√©riment√©s sont toujours pr√™ts √† conseiller les nouveaux arrivants sur le choix du mat√©riel, les r√©glages ou les techniques de pilotage.</p>
                </div>
                <div class="about-image">
                </div>
            </div>
        </section>
    </div>

    <!-- Chronos -->
    <div id="chronos" class="section">
        <section>
              <h2 class="section-title">üèÅ Meilleurs Chronos</h2>
  <div class="times-table">
    <table>
      <thead>
        <tr>
          <th>Pilote</th>
          <th>Cat√©gorie</th>
          <th>Temps</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody id="public-chrono-table"></tbody>
    </table>
  </div>
        </section>
    </div>

    <!-- Infos Pratiques -->
    <div id="infos" class="section">
        <section>
            <h2 class="section-title">Informations Pratiques</h2>
            
            <div class="info-box">
                <h3><i class="fas fa-clock"></i> Horaires d'Ouverture</h3>
                <ul>
                    <li><strong>Mercredi :</strong> 14h00 - 18h00</li>
                    <li><strong>Samedi :</strong> 9h00 - 12h00 / 14h00 - 18h00</li>
                    <li><strong>Dimanche :</strong> 9h00 - 12h00 / 14h00 - 17h00</li>
                    <li><em>Ferm√© les jours f√©ri√©s et en cas de conditions m√©t√©o d√©favorables</em></li>
                </ul>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-map-marker-alt"></i> Localisation</h3>
                <p><strong>Circuit RC des Mines</strong><br>
                Chemin des Anciennes Mines<br>
                62000 Lens, France</p>
                <p style="margin-top: 1rem;">
                    <i class="fas fa-car"></i> Parking gratuit disponible<br>
                    <i class="fas fa-bus"></i> Accessible en transport en commun (ligne 15)
                </p>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-euro-sign"></i> Tarifs</h3>
                <ul>
                    <li><strong>Adh√©sion annuelle :</strong> 45‚Ç¨</li>
                    <li><strong>Session d√©couverte :</strong> 10‚Ç¨</li>
                    <li><strong>Location mat√©riel d√©butant :</strong> 15‚Ç¨/session</li>
                    <li><strong>Cours particulier :</strong> 25‚Ç¨/heure</li>
                </ul>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-phone"></i> Contact</h3>
                <p>
                    <i class="fas fa-envelope"></i> <strong>Email :</strong> contact@rcmines.fr<br>
                    <i class="fas fa-phone"></i> <strong>T√©l√©phone :</strong> 03 21 XX XX XX<br>
                    <i class="fas fa-user"></i> <strong>Pr√©sident :</strong> Michel Leblanc
                </p>
            </div>
        </section>
    </div>

    <!-- R√®glement -->
    <div id="reglement" class="section">
        <section>
            <h2 class="section-title">R√®glement du Club</h2>
            
            <div class="info-box">
                <h3><i class="fas fa-shield-alt"></i> R√®gles de S√©curit√©</h3>
                <ul>
                    <li>Port obligatoire de chaussures ferm√©es sur le circuit</li>
                    <li>Interdiction de courir sur la piste pendant les sessions</li>
                    <li>V√©rification obligatoire des batteries avant utilisation</li>
                    <li>Respect des zones de pilotage d√©limit√©es</li>
                    <li>Signalement imm√©diat de tout incident ou mat√©riel d√©faillant</li>
                </ul>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-cogs"></i> R√®gles Techniques</h3>
                <ul>
                    <li>Mod√®les 1/8, 1/10 et 1/12 accept√©s</li>
                    <li>Batteries LiPo limit√©es √† 4S maximum</li>
                    <li>Niveau sonore inf√©rieur √† 85dB √† 1 m√®tre</li>
                    <li>V√©rification technique obligatoire pour les nouveaux mod√®les</li>
                    <li>Interdiction des modifications dangereuses</li>
                </ul>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-users"></i> Vie du Club</h3>
                <ul>
                    <li>Respect mutuel entre tous les membres</li>
                    <li>Participation aux travaux d'entretien du circuit</li>
                    <li>Aide aux nouveaux membres encourag√©e</li>
                    <li>Pr√©sence obligatoire √† l'assembl√©e g√©n√©rale annuelle</li>
                    <li>Cotisation √† jour pour acc√©der au circuit</li>
                </ul>
            </div>

            <div class="info-box">
                <h3><i class="fas fa-gavel"></i> Sanctions</h3>
                <ul>
                    <li><strong>1er avertissement :</strong> Rappel √† l'ordre verbal</li>
                    <li><strong>2e avertissement :</strong> Exclusion temporaire (1 mois)</li>
                    <li><strong>3e avertissement :</strong> Exclusion d√©finitive</li>
                    <li>En cas de comportement dangereux : exclusion imm√©diate</li>
                </ul>
            </div>

            <p style="color: #dc2626; text-align: center; margin-top: 2rem; font-weight: bold;">
                <i class="fas fa-exclamation-triangle"></i> 
                Le non-respect du r√®glement engage la responsabilit√© du membre
            </p>
        </section>
    </div>

    <footer>
        <p>&copy; 2025 RC des Mines - Association de mod√©lisme tout-terrain</p>
        <p>Tous droits r√©serv√©s | Conception web par l'√©quipe RC des Mines</p>
        <div class="social-links">
            <a href="https://www.helloasso.com/associations/rc-des-mines/adhesions/adhesion-a-l-association-rc-des-mines" target="_blank" class="social-link hello-asso">
                <i class="fas fa-heart"></i>
            </a>
            <a href="https://www.facebook.com" target="_blank" class="social-link facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.instagram.com/rc_des_mines?igsh=MXVkcWtyNWhyNXFiNg==" target="_blank" class="social-link instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://wa.me/33123456789" target="_blank" class="social-link whatsapp">
                <i class="fab fa-whatsapp"></i>
            </a>
            <a href="#" onclick="showLogin()" class="social-link admin">
                <i class="fas fa-cog"></i>
            </a>
        </div>
    </footer>

     <!-- Login Modal -->
    <div id="login-modal">
        <div class="login-box">
            <h3><i class="fas fa-lock"></i> Administration</h3>
            <input type="password" id="admin-password" placeholder="Mot de passe administrateur" onkeypress="handleLoginKeyPress(event)">
            <div class="admin-buttons">
                <button class="admin-btn save" onclick="login()">Se connecter</button>
                <button class="admin-btn reset" onclick="closeLogin()">Annuler</button>
            </div>
            <div id="login-error" style="color: #dc2626; margin-top: 1rem; font-size: 0.9rem;"></div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel">
        <div class="admin-content">
            <div class="admin-header">
                <h2><i class="fas fa-cogs"></i> Panel Administrateur</h2>
                <button class="close-admin" onclick="closeAdmin()">
                    <i class="fas fa-times"></i> Fermer
                </button>
            </div>
            <div class="admin-info info-box">
  <h3>üì∏ Comment ajouter une image au carrousel ?</h3>
  <p>
    Pour ajouter une image dans le carrousel de la page d'accueil :
  </p>
  <ul>
    <li>1. Pr√©pare ton image au format JPG ou PNG (ou MP4 pour les vid√©os).</li>
    <li>2. Rend toi sur le site :<a href="https://postimages.org" target="_blank">https://postimages.org</a> , clique sur ce bouton : <img src="choisir.png" alt="Capture d'√©cran d'import" style="max-width: 100%; border-radius: 10px; margin-top: 1rem;"></li>
    <li>3. Copie le deuxi√®me lien : <img src="lien.png" alt="Capture d'√©cran d'import" style="max-width: 100%; border-radius: 10px; margin-top: 1rem;"></li></li>
    <li>4. Entre ce lien dans l'espace URL de la slide voulue.</li>
  </ul>
</div>
<div class="admin-info info-box">
  <h3>‚è±Ô∏è Comment Modifier les chrono ?</h3>
  <ul>
    <li>1. se rendre sur ce lien :<a href="https://docs.google.com/spreadsheets/d/1hb3CGD-aK-7CFHfOTc5Hv6H_4R6-HSHYKonhKXvvSTQ/edit?gid=0#gid=0" target="_blank">Feuille Chrono</a></li>
    <li>2. Modifie la feuille avec les chrono que tu veux</li>
    <li>3. Recharge le site</li>
    <li>4. Les info apparaisse</li>
  </ul>
</div>

            <div class="admin-section">
                <h3><i class="fas fa-images"></i> Gestion du Carrousel d'Accueil</h3>
                <div class="slide-manager">
                    <div class="slide-item">
                        <label>Slide 1:</label>
                        <select onchange="updateSlideType(0, this.value)">
                            <option value="image">Image</option>
                            <option value="video">Vid√©o</option>
                        </select>
                        <input type="text" id="slide-0" placeholder="URL de l'image ou vid√©o" onchange="updateSlidePreview(0)">
                        <div class="slide-preview" id="preview-0"></div>
                    </div>

                    <div class="slide-item">
                        <label>Slide 2:</label>
                        <select onchange="updateSlideType(1, this.value)">
                            <option value="image">Image</option>
                            <option value="video">Vid√©o</option>
                        </select>
                        <input type="text" id="slide-1" placeholder="URL de l'image ou vid√©o" onchange="updateSlidePreview(1)">
                        <div class="slide-preview" id="preview-1"></div>
                    </div>

                    <div class="slide-item">
                        <label>Slide 3:</label>
                        <select onchange="updateSlideType(2, this.value)">
                            <option value="image">Image</option>
                            <option value="video">Vid√©o</option>
                        </select>
                        <input type="text" id="slide-2" placeholder="URL de l'image ou vid√©o" onchange="updateSlidePreview(2)">
                        <div class="slide-preview" id="preview-2"></div>
                    </div>

                    <div class="slide-item">
                        <label>Slide 4:</label>
                        <select onchange="updateSlideType(3, this.value)">
                            <option value="image">Image</option>
                            <option value="video">Vid√©o</option>
                        </select>
                        <input type="text" id="slide-3" placeholder="URL de l'image ou vid√©o" onchange="updateSlidePreview(3)">
                        <div class="slide-preview" id="preview-3"></div>
                    </div>

                    <div class="slide-item">
                        <label>Slide 5:</label>
                        <select onchange="updateSlideType(4, this.value)">
                            <option value="image">Image</option>
                            <option value="video">Vid√©o</option>
                        </select>
                        <input type="text" id="slide-4" placeholder="URL de l'image ou vid√©o" onchange="updateSlidePreview(4)">
                        <div class="slide-preview" id="preview-4"></div>
                    </div>
                </div>

                <div class="admin-buttons">
                    <button class="admin-btn save" onclick="saveSlides()">
                        <i class="fas fa-save"></i> Sauvegarder les modifications
                    </button>
                    <button class="admin-btn reset" onclick="resetSlides()">
                        <i class="fas fa-undo"></i> Restaurer par d√©faut
                    </button>
                </div>
            </div>
        </div>
    </div>

<script>
        // Configuration admin
        const ADMIN_PASSWORD = "rcmines2024"; // Changez ce mot de passe !
        let slideTypes = ['image', 'image', 'image', 'video', 'image'];
        let slideUrls = [
            'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://images.unsplash.com/photo-1571068316344-75bc76f77890?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
            'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
            'https://images.unsplash.com/photo-1558017488-06bf9f82613e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'
        ];

        // Login functions
        function showLogin() {
            document.getElementById('login-modal').style.display = 'flex';
            document.getElementById('admin-password').focus();
        }

        function closeLogin() {
            document.getElementById('login-modal').style.display = 'none';
            document.getElementById('admin-password').value = '';
            document.getElementById('login-error').textContent = '';
        }

        function handleLoginKeyPress(event) {
            if (event.key === 'Enter') {
                login();
            }
        }

        function login() {
            const password = document.getElementById('admin-password').value;
            const errorDiv = document.getElementById('login-error');
            
            if (password === ADMIN_PASSWORD) {
                closeLogin();
                showAdminPanel();
            } else {
                errorDiv.textContent = 'Mot de passe incorrect !';
                document.getElementById('admin-password').value = '';
                setTimeout(() => {
                    errorDiv.textContent = '';
                }, 3000);
            }
        }

        // Admin panel functions
        function showAdminPanel() {
            document.getElementById('admin-panel').style.display = 'block';
            loadCurrentSlides();
        }

        function closeAdmin() {
            document.getElementById('admin-panel').style.display = 'none';
        }

        function loadCurrentSlides() {
            for (let i = 0; i < slideUrls.length; i++) {
                document.getElementById(`slide-${i}`).value = slideUrls[i];
                updateSlidePreview(i);
            }
        }

        function updateSlideType(index, type) {
            slideTypes[index] = type;
            updateSlidePreview(index);
        }

        function updateSlidePreview(index) {
            const url = document.getElementById(`slide-${index}`).value;
            const preview = document.getElementById(`preview-${index}`);
            
            if (slideTypes[index] === 'image') {
                preview.style.backgroundImage = `url(${url})`;
                preview.innerHTML = '';
            } else {
                preview.style.backgroundImage = 'none';
                preview.innerHTML = `<video style="width:100%;height:100%;object-fit:cover;border-radius:8px;" muted><source src="${url}" type="video/mp4"></video>`;
            }
        }

        function saveSlides() {
            // R√©cup√©rer les nouvelles URLs
            for (let i = 0; i < slideUrls.length; i++) {
                slideUrls[i] = document.getElementById(`slide-${i}`).value;
            }
            
            // Mettre √† jour le carrousel
            updateCarousel();
            
            alert('‚úÖ Modifications sauvegard√©es avec succ√®s !');
        }

        function resetSlides() {
            if (confirm('‚ö†Ô∏è √ätes-vous s√ªr de vouloir restaurer les images par d√©faut ?')) {
                slideUrls = [
                    'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1571068316344-75bc76f77890?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
                    'https://images.unsplash.com/photo-1558017488-06bf9f82613e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'
                ];
                slideTypes = ['image', 'image', 'image', 'video', 'image'];
                
                loadCurrentSlides();
                updateCarousel();
                
                alert('‚úÖ Images restaur√©es par d√©faut !');
            }
        }

        function updateCarousel() {
            const slides = document.querySelectorAll('.hero-slide');
            
            slides.forEach((slide, index) => {
                if (slideTypes[index] === 'image') {
                    slide.style.backgroundImage = `url(${slideUrls[index]})`;
                    slide.innerHTML = '';
                } else {
                    slide.style.backgroundImage = 'none';
                    slide.innerHTML = `<video autoplay muted loop style="width:100%;height:100%;object-fit:cover;"><source src="${slideUrls[index]}" type="video/mp4"></video>`;
                }
            });
        }
        // Slideshow functionality
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.slide-dot');
        const totalSlides = slides.length;

        function showSlide(index) {
            // Masquer toutes les slides
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Afficher la slide courante
            slides[index].classList.add('active');
            dots[index].classList.add('active');
        }

        function nextSlide() {
            currentSlideIndex = (currentSlideIndex + 1) % totalSlides;
            showSlide(currentSlideIndex);
        }

        function changeSlide(direction) {
            currentSlideIndex += direction;
            if (currentSlideIndex >= totalSlides) currentSlideIndex = 0;
            if (currentSlideIndex < 0) currentSlideIndex = totalSlides - 1;
            showSlide(currentSlideIndex);
        }

        function currentSlide(index) {
            currentSlideIndex = index - 1;
            showSlide(currentSlideIndex);
        }

        // Auto-play slideshow
        setInterval(nextSlide, 5000); // Change toutes les 5 secondes

        function showSection(sectionId) {
            // Masquer toutes les sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Afficher la section demand√©e
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Scroll vers le haut
            window.scrollTo(0, 0);
        }

        // Animation au scroll pour les cartes
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.8s ease forwards';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card, .info-box').forEach(el => {
            observer.observe(el);
        });

        // Effet de parallax l√©ger sur le hero
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('#hero');
            if (parallax) {
                const speed = scrolled * 0.5;
                parallax.style.transform = `translateY(${speed}px)`;
            }
        });

        const SHEET_API = "https://script.google.com/macros/s/AKfycbxfKZVzMWzlPlmG7K5sSs7inP0Vxo_dyHBZPwGL0LlpVwTl403gQbb0jZmGYJv4xuU/exec";

  async function ajouterChrono() {
    const nom = document.getElementById('chrono-nom').value.trim();
    const cat = document.getElementById('chrono-categorie').value;
    const temps = document.getElementById('chrono-temps').value.trim();
    const date = document.getElementById('chrono-date').value;

    if (!nom || !temps || !date) {
      alert("Tous les champs sont obligatoires !");
      return;
    }

    await fetch(SHEET_API, {
      method: 'POST',
      body: JSON.stringify({ nom, cat, temps, date }),
      headers: { 'Content-Type': 'application/json' }
    });

    afficherChronos();
  }

  async function afficherChronos() {
    const res = await fetch(SHEET_API);
    const data = await res.json();

    const tbody = document.getElementById('public-chrono-table');
    tbody.innerHTML = '';

    data.forEach(({ nom, categorie, temps, date }) => {
  const dateObj = new Date(date);
  const dateLisible = dateObj.toLocaleDateString('fr-FR', {
    day: '2-digit',
    month: '2-digit',
    year: 'numeric'
  });

  tbody.innerHTML += `<tr>
    <td>${nom}</td>
    <td>${categorie}</td>
    <td>${temps}</td>
    <td>${dateLisible}</td>
  </tr>`;
});

  }

  document.addEventListener('DOMContentLoaded', afficherChronos);
    </script>
</body>
</html>